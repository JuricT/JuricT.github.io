<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>islighthouse</title>
  <style>
      body {
          background-color: #2c2c2c;
          font-size: 100px;
      }
      .block {
          font-family: Arial, Helvetica, sans-serif;
          padding: 10px;
          display: flex;
          flex-direction: column;
          align-items: center;
      }
      .block__title {
          margin-bottom: 5px;
          color: whitesmoke;
      }
      #result {
          font-size: 400px;
          font-weight: bold;
          color: #00dd1c;
      }
      #result.lighthouse {
          color: red;
      }
      .brand-container {
          margin-bottom: 5px;
          color: whitesmoke;
      }
  </style>
  <script>
    window.detectLighthouse = () => {
      const brands = navigator?.userAgentData?.brands
      if (!brands) {
        return false
      }
      if (brands.length === 2
        && brands[0].brand === 'Chromium'
        && brands[1].brand === 'Google Chrome'
      ) {
        return true
      }
      if (brands.length === 3
        && brands[0].brand === 'Chromium'
        && brands[1].brand === 'Google Chrome'
        && brands[2].brand === 'Lighthouse'
      ) {
        return true
      }
      return false
    }
  </script>
</head>
<body>
<div class="block">
  <span class="block__title">lighthouse detection</span>
  <span id="result"></span>
</div>
<div class="block">
  <div class="block__title">brands:</div>
  <div id="brands" class="brands-list"></div>
</div>
</body>
<script>
  const resultElem = document.getElementById('result')
  const isLighthouse = window.detectLighthouse()
  resultElem.textContent = isLighthouse
  if (isLighthouse) {
    resultElem.classList.add('lighthouse')
  }

  const brandsElem = document.getElementById('brands')
  const brands = navigator?.userAgentData?.brands
  if (brands) {
    brands.forEach((item) => {
      const containerElem = document.createElement('div')
      containerElem.classList.add('brand-container')
      brandsElem.append(containerElem)

      containerElem.innerHTML = `
<div>brand: ${item.brand}</div>
<div>version: ${item.version}</div>
`
    })
  }
</script>
</html>
