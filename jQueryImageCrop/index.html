<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>jQuery Image Crop</title>

	<link rel="stylesheet" href="css/jquery.fancybox-1.3.4.css">
	<link rel="stylesheet" href="css/style.css">

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
	<script src="js/jquery.fancybox-1.3.4.js"></script>
</head>
<body>

		<h2 id="steps">STEP 1 Browse local filesystem for image</h2>

		<form id="form1" runat="server">

			<img id="preview" class="hide" src="#" alt="your image"/>

			<br>
			
			<input type='file' id="imgInp" class="hide" />
			<button id="upload-button">Upload</button>

			<span id="description" class="hide">
				<h2>STEP 4: Submit Base64 Code AND Form Data to PHP file whic stores cropimage.ipg on server</h2>
				<span>Description: </span>
				<br>
				<textarea name="description" cols="40" rows="3"></textarea>
				<br>
				<input type="submit">
			</span>

			<a id="fancybox" class="various hide" data-fancybox-type="iframe" href="ImageCrop.html"></a>
		</form>

		<script>
			var imgResult;

			var $preview = $('#preview');
			var $steps = $('#steps');
			var $description = $('#description');

			function readURL(input) {

			if (input.files && input.files[0]) {
					var reader = new FileReader();

					reader.onload = function (e) {
							imgResult = e.target.result;
							$('#fancybox').click();
					}

					reader.readAsDataURL(input.files[0]);
			}
			}

			$("#imgInp").change(function(){
					readURL(this);
			});

		$(document).ready(function() {
			$('#upload-button').on('click', function (e) {
				$('#imgInp').click();
				e.preventDefault();
			})

			$(".various").fancybox({
				maxWidth	: 800,
				maxHeight	: 600,
				fitToView	: false,
				width		: '70%',
				height		: '70%',
				autoSize	: false,
				closeClick	: false,
				openEffect	: 'none',
				closeEffect	: 'none'
			});
		});

		</script>


</body>
</html>